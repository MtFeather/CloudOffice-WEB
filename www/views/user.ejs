<% include header.ejs %>
<div class="container">
  <h2><span class="glyphicon glyphicon-lock"></span><%= title %></h2>
  <hr>
  <div class="table-responsive">
    <table id="dtable" class="table table-striped table-hover">
      <thead>
        <tr>
          <th class="col-md-2" class="account">帳號</th>
          <th class="col-md-2">姓名</th>
          <th class="col-md-2">性別</th>
          <th class="col-md-4">信箱</th>
	  <th class="col-md-2">身分</th>
	  <th class="col-md-2"></th>
        </tr>
      </thead>
      <tbody>
      <% items.forEach(function(user) { %>
        <tr>
          <td class="col-md-2"><%= user.account %></td>
          <td class="col-md-2"><%= user.name %></td>
          <td class="col-md-2"><%= user.sex %></td>
          <td class="col-md-4"><%= user.email %></td>
	  <td class="col-md-2"><%= user.lv %></td>
	  <td class="col-md-2"><a href='user_update?id=<%= user.eid %>'><button type="button" class="btn btn-primary">修改</button></a></td>
        </tr>
      <% }) %>
      </tbody>
    </table>
  </div>
    <!-- display form errors in a custom modal window -->
    <% include modals/form-errors %>
    <% include modals/alert %>
    <% include modals/confirm %>
</div>
<script>
  $(document).ready(function() {
    $('#dtable').DataTable({
      language: {
        "lengthMenu": "每頁顯示 _MENU_ 筆",
         "zeroRecords": "沒有符合結果",
         "info": "從 _START_ 到 _END_ /共 _TOTAL_ 筆",
         "infoEmpty": "無任何資料",
         "infoFiltered": "(過濾總筆數 _MAX_)",
         "search": "搜尋:",
         "searchPlaceholder": "搜尋關鍵字",
         "paginate": {
           "first":      "首頁",
           "last":       "末頁",
           "next":       "下頁",
           "previous":   "上頁"
         },
      },
      "columnDefs": [
        { "searchable": false, "targets": [5] },
        { "orderable": false, "targets": [5] }
      ]
    });
  });
</script>
<% include footer.ejs %>

